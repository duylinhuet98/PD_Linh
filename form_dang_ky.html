<!DOCTYPE html>
<html>
<head>
	<title>Form đăng ký tài khoản</title>
	<style>
		.input-error {
			border: 1px solid red;
		}

		.input {
			border: 1px solid black;
		}

		.text-error {
			color: red;
		}
	</style>
</head>
<body>

<form method="post" action="" id="form_register">
	<table>
		<tr>
			<td colspan="3">Tạo tài khoản mới </td>

		</tr>

		<tr>
			<td>Họ và tên :</td>
			<td >
				<input type="text" id="fullname" name="fullname">
				<span id="fullname_error"></span>
			</td>

		</tr>
		<tr >
			<td>SĐT hoặc Email :</td>
			<td >
				<input type="text" id="account" name="account">
				<span id="account_error" ></span>
			</td>
		</tr>
		<tr>
			<td>Mật khẩu mới :</td>
			<td>
				<input type="password" id="password" name="password">
				<span id="password_error" ></span>
			</td>
		</tr>
		<tr>
			<td>Ngàu sinh: </td>
			<td>
				<select  id="ngay" >
					<option value="" selected> Ngày </option>
					<option value="1">1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">5</option>
					<option value="6">6</option>
					<option value="7">7</option>
					<option value="8">8</option>
					<option value="9">9</option>
					<option value="10">10</option>
					<option value="11">11</option>
					<option value="12">12</option>
					<option value="13">13</option>
					<option value="14">14</option>
					<option value="15">15</option>
					<option value="16">16</option>
					<option value="17">17</option>
					<option value="18">18</option>
					<option value="19">19</option>
					<option value="20">20</option>
					<option value="21">21</option>
					<option value="22">22</option>
					<option value="23">23</option>
					<option value="24">24</option>
					<option value="25">25</option>
					<option value="26">26</option>
					<option value="27">27</option>
					<option value="28">28</option>
					<option value="27">29</option>
					<option value="28">30</option>
					<option value="28">31</option>
				</select>

				<select  id="thang">
					<option value="" selected> Tháng </option>
					<option value="1">1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">5</option>
					<option value="6">6</option>
					<option value="7">7</option>
					<option value="8">8</option>
					<option value="9">9</option>
					<option value="10">10</option>
					<option value="11">11</option>
					<option value="12">12</option>

				</select>

				<select  id="nam">
					<option value=""  selected> Năm </option>
					<option value="1990">1990</option>
					<option value="1991">1991</option>
					<option value="1992">1992</option>
					<option value="1993">1993</option>
					<option value="1994">1994</option>
					<option value="1995">1995</option>
					<option value="1996">1996</option>
					<option value="1997">1997</option>
					<option value="1998">1998</option>
					<option value="1999">1999</option>
					<option value="2000">2000</option>
					<option value="2001">2001</option>
					<option value="2002">2002</option>
					<option value="2003">2003</option>
					<option value="2004">2004</option>
					<option value="2005">2005</option>
					<option value="2006">2006</option>
					<option value="2007">2007</option>
					<option value="2008">2008</option>
					<option value="2009">2009</option>
					<option value="2010">2010</option>
					<option value="2011">2011</option>
					<option value="2012">2012</option>
					<option value="2013">2013</option>
					<option value="2014">2014</option>
					<option value="2015">2015</option>
					<option value="2016">2016</option>
					<option value="2017">2017</option>
				</select>
				<span id="ngaysinh_error" > </span>
			</td>
		</tr>

		<tr>
			<td>Giới tính </td>
			<td>
				<input type="radio" name="gioitinh" value="nam"> Nam
				<input type="radio" name="gioitinh" value="nữ"> Nữ
				<input type="radio" name="gioitinh" value="tùy chỉnh"> Tùy chỉnh
				<span id="gioitinh_error" ></span>
			</td>
		</tr>
		
		<tr>
			<td></td>
			<td>
				<input type="radio" name="upload" id="upload" value="upload"> upload ảnh
			</td>	
		</tr>
		
		<tr id="show">
			<td>Select a file</td>
			<td>
				<input type="file" name="anh" id="anh" value="anh" value="showfile" >
			</td>	
		</tr>
		
		<tr>
			<td></td>
			<td ><input type="submit" id="register" value="Đăng ký" disabled/></td>
		</tr>

	</table>

</form>

</body>
<script src="jquery_min.js" ></script>
<script type="text/javascript">
	$(document).ready(function() {
			
		var checkValidate = {
			init: function () {
				this.submit()
				this.keydown()
				this.disabelRegister()
				this.enabelRegister()
				this.checkFile()
			
			},
			
			
			submit: function () {
				$('#form_register').submit(function() {
					var flag = true;
					var fullname    = $.trim($('input[name=fullname]').val());
					var password    = $.trim($('input[name=password]').val());
					var account     = $.trim($('input[name=account]').val());
					var isChecked = $('input[type="radio"]:checked');
					var ngay        = $("#ngay").val();
					var thang       = $("#thang").val();
					var nam         = $("#nam").val();
					var format_date = ngay + thang + nam;
					// full name
					if (fullname =="" ) {
						$('#fullname ').addClass('input-error').removeClass("input");
						$('#fullname_error').text('* Bạn chưa nhập tên').addClass("text-error");
						flag = false;
					}

					// tai khoan
					if (account=="") {
						$('#account ').addClass('input-error').removeClass("input");
						$('#account_error').text('* Bạn chưa điền email hoặc sđt').addClass("text-error");
						flag = false;
					}

					// Password
					if (password == "") {
						$('#password').addClass('input-error').removeClass("input");
						$('#password_error').text('* Bạn chưa nhập mật khẩu').addClass("text-error");
						flag = false;
					}

					//gioi tinh
					if (isChecked.length > 0) {
						$('#gioitinh_error').text('');
					} else {
						$('#gioitinh_error').text('* Bạn chưa chọn giới tính').addClass("text-error");
						flag = false;
					}

					//  ngay sinh
					if (format_date.length < 6 ) {
						$('#ngaysinh_error').text('* Bạn chưa nhập đúng định dạng').addClass("text-error");
						$('#ngay, #thang, #nam').addClass('input-error');
						flag = false;
					}

					return flag;
				});
			},

			keydown: function () {
				$("#fullname").keydown(function () {
					$("#fullname").removeClass("input-error").addClass('input');
					$('#fullname_error').text('');
				});

				$("#account").keydown( function () {
					$('#account ').removeClass("input-error").addClass('input');;
					$('#account_error').text('');
				});


				$("#password").keydown( function () {
					$('#password ').removeClass("input-error").addClass('input');
					$('#password_error').text('');
				});

				$('input[type="radio"]').focus( function () {
					$('#gioitinh_error').text('');
				});
				$('#ngay').change( function () {
					if ( $(this).children("option:selected").val() != '' ) {
						$('#ngay').removeClass('input-error');
						checkValidate.checkSelect();
					}
				});
				$('#thang').change( function () {
					if ( $(this).children("option:selected").val() != '' ) {
						$(this).removeClass('input-error');
						checkValidate.checkSelect();
					}
				});
				$('#nam').change( function () {
					if ( $(this).children("option:selected").val() != '' ) {
						$(this).removeClass('input-error');
						checkValidate.checkSelect();
					}
				});
			},
			

			checkSelect: function () {
				var ngay        = $("#ngay").val();
				var thang       = $("#thang").val();
				var nam         = $("#nam").val();
				var format_date = ngay + thang + nam;

				if ( format_date.length >= 6 ) {
					$('#ngaysinh_error').text('');
					$('#ngay, #thang, #nam').removeClass('input-error');
				}
			},
			
			disabelRegister: function(){
				var fullname    = $.trim($('input[name=fullname]').val());
				var password    = $.trim($('input[name=password]').val());
				var account     = $.trim($('input[name=account]').val());
				var ngay        = $("#ngay").val();
				var thang       = $("#thang").val();
				var nam         = $("#nam").val();
				var format_date = ngay + thang + nam;
				if( fullname != "" && password != "" && account != "" && format_date.length >= 6 ){
						$('#register').prop('disabled', false);
				}
			},
			enabelRegister : function(){
				$("#fullname, #password, #account").keydown(function () {
					checkValidate.disabelRegister();
				});
				$("#ngay, #thang, #nam").change( function () {
					checkValidate.disabelRegister();
				});	
			}, 
			checkFile : function(){
				$("#show ").hide();
				$("#upload").click(function(){
				$("#show").show();  
			});
			},
		}
		
			
		$(document).ready(function ($) {
			checkValidate.init()
		});
	});

</script>


</html>